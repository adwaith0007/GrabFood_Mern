import{u as A,r as d,i as j,j as s,q as i,w as o,S as l}from"./index-JMqGIfVs.js";import{A as S,U as C,C as y}from"./UpdateAddressInput-WSXkMUNL.js";const T=()=>{const{user:p}=A(t=>t.userReducer),a=p._id,[c,x]=d.useState(!1),[h,m]=d.useState(!1),[r,f]=d.useState(!1),[e,n]=d.useState(),[b,u]=d.useState(!0);d.useEffect(()=>{a&&j.get(`/user/${a}/addresses`).then(t=>{const v=t.data[0];n(v),u(!1)}).catch(t=>{console.error(t),u(!1)})},[a]);const g=()=>{a&&j.get(`/user/${a}/addresses`).then(t=>{n(t.data[0])}).catch(t=>{console.error(t)})},N=t=>{n(t)},w=t=>{n(t)};return s.jsx("div",{className:"h-full",children:s.jsxs("div",{className:"px-4 pt-5 h-full ",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[e!=null?s.jsx(i,{icon:o,style:{color:"#63E6BE"}}):s.jsx(i,{icon:o,beat:!0,style:{color:"#63E6BE"}}),s.jsx("p",{className:"text-xl font-medium",children:"Address"})]}),s.jsxs("div",{className:"mt-4 mr-2",children:[s.jsx("button",{onClick:()=>{x(!c)},className:"bg-indigo-500 font-semibold hover:bg-indigo-600 py-3 px-5 text-sm text-white uppercase w-full",children:"+ address"}),c?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",c&&s.jsx(S,{userId:a,setAddress:g,onClose:()=>{x(!1)}})]})]}),s.jsx("p",{className:"text-gray-400",children:"Select your address or add a new address."}),s.jsxs("div",{className:"mt-8 space-y-3 rounded-lg border bg-white px-2 py-4 sm:px-6",children:[b?s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(l,{height:20,width:150,count:1})}),s.jsxs("div",{className:"w-[300px] flex gap-2 ",children:[s.jsx(l,{height:15,width:150,count:1}),s.jsx(l,{height:15,width:150,count:1})]}),s.jsxs("div",{className:"w-[300px] flex gap-2 ",children:[s.jsx(l,{height:15,width:150,count:1}),s.jsx(l,{height:15,width:150,count:1})]}),s.jsx(l,{height:15,width:150,count:1,className:" mt-3"})]}):e!=null&&e!="no_address"?s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(i,{icon:o}),s.jsx("h3",{className:"text-[#093bc9] font-semibold",children:e==null?void 0:e.city})]}),s.jsxs("div",{className:"w-[300px]",children:[s.jsx("p",{children:e==null?void 0:e.street}),s.jsx("p",{children:`${e==null?void 0:e.state} - ${e==null?void 0:e.zipCode}`})]}),s.jsx("button",{onClick:()=>{m(!c)},className:"text-[#094fc9] font-normal mt-3",children:"Edit address"}),h?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",h&&s.jsx(C,{userId:a,currentAddress:e,onhandleUpdateAddress:N,onClose:()=>{m(!1)}})]}),s.jsx("div",{children:s.jsx("button",{onClick:()=>{f(!r)},className:"text-[#093bc9] font-medium",children:"Choose another address"})}),r?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",r&&s.jsx(y,{onClose:()=>{f(!1)},onAddressSelect:w})]}):s.jsx("p",{className:"text-red-500",children:"Add a new address"}),s.jsx("div",{className:"flex flex-col rounded-lg bg-white sm:flex-row"})]})]})})};export{T as default};
