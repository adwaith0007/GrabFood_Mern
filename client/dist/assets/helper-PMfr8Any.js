import{i as s}from"./index-1K5RL3x8.js";async function n({username:t}){try{const{data:r}=await s.get(`/user/${t}`);return{data:r}}catch{return{error:"Password doesn't Match...!"}}}async function c(t){try{const{data:{msg:r},status:e}=await s.post("/register",t),{username:a,email:o}=t;return e===200&&(console.log("ok"),await s.post("/registerMail",{username:a,userEmail:o,text:r})),Promise.resolve(r)}catch(r){return Promise.reject({error:r})}}async function u(t){try{const{data:{msg:r},status:e}=await s.post("/admin/register",t),{name:a,email:o}=t;return e===200&&(console.log("ok"),await s.post("/registerMail",{name:a,userEmail:o,text:r})),Promise.resolve(r)}catch(r){return Promise.reject({error:r})}}async function P({email:t,password:r}){try{if(t){const{data:e}=await s.post("/admin/login",{email:t,password:r});return Promise.resolve({data:e})}}catch{return Promise.reject({error:"Password doesn't Match...! "})}}async function d({username:t,password:r}){try{if(t){const{data:e}=await s.post("/login",{username:t,password:r});return console.log(e.response),Promise.resolve({data:e})}}catch{return Promise.reject({error:"Password doesn't Match...! "})}}async function m(t){try{const{data:{code:r},status:e}=await s.get("/generateOTP",{params:{username:t}});if(e===201){const{data:{email:a}}=await n({username:t}),o=`Your Password Recovery OTP is ${r}. Verify and recover your password.`;await s.post("/registerMail",{username:t,userEmail:a,text:o,subject:"Password Recovery OTP"})}return Promise.resolve(r)}catch(r){return Promise.reject({error:r})}}async function y({username:t,code:r}){try{const{data:e,status:a}=await s.get("/verifyOTP",{params:{username:t,code:r}});return{data:e,status:a}}catch(e){return Promise.reject(e)}}async function w({username:t,password:r}){try{const{data:e,status:a}=await s.put("/resetPassword",{username:t,password:r});return Promise.resolve({data:e,status:a})}catch(e){return Promise.reject({error:e})}}export{d as a,c as b,P as c,u as d,m as g,w as r,y as v};
