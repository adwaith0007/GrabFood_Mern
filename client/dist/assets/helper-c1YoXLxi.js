import{k as s,l as i}from"./index-2RpH3N3u.js";async function c({username:r}){try{const{data:t}=await s.get(`http://localhost:5000/api/user/${r}`);return{data:t}}catch{return{error:"Password doesn't Match...!"}}}async function u(r){try{const{data:{msg:t},status:e}=await s.post("http://localhost:5000/api/register",r),{username:a,email:o}=r;return e===200&&(console.log("ok"),await s.post("http://localhost:5000/api/registerMail",{username:a,userEmail:o,text:t})),Promise.resolve(t)}catch(t){return Promise.reject({error:t})}}async function l(r){try{const{data:{msg:t},status:e}=await i.post("/admin/register",r),{name:a,email:o}=r;return e===200&&(console.log("ok"),await i.post("/registerMail",{name:a,userEmail:o,text:t})),Promise.resolve(t)}catch(t){return Promise.reject({error:t})}}async function P({email:r,password:t}){try{if(r){const{data:e}=await i.post("/admin/login",{email:r,password:t});return Promise.resolve({data:e})}}catch{return Promise.reject({error:"Password doesn't Match...! "})}}async function d({username:r,password:t}){try{if(r){const{data:e}=await i.post("/login",{username:r,password:t});return Promise.resolve({data:e})}}catch{return Promise.reject({error:"Password doesn't Match...! "})}}async function m(r){try{const{data:{code:t},status:e}=await s.get("http://localhost:5000/api/generateOTP",{params:{username:r}});if(e===201){const{data:{email:a}}=await c({username:r}),o=`Your Password Recovery OTP is ${t}. Verify and recover your password.`;await s.post("http://localhost:5000/api/registerMail",{username:r,userEmail:a,text:o,subject:"Password Recovery OTP"})}return Promise.resolve(t)}catch(t){return Promise.reject({error:t})}}async function p({username:r,code:t}){try{const{data:e,status:a}=await s.get("http://localhost:5000/api/verifyOTP",{params:{username:r,code:t}});return{data:e,status:a}}catch(e){return Promise.reject(e)}}async function h({username:r,password:t}){try{const{data:e,status:a}=await s.put("http://localhost:5000/api/resetPassword",{username:r,password:t});return Promise.resolve({data:e,status:a})}catch(e){return Promise.reject({error:e})}}export{d as a,u as b,P as c,l as d,m as g,h as r,p as v};
