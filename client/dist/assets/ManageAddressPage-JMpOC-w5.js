import{u as N,r as t,i as f,j as s,U as v,m as c,t as n}from"./index-tRytz_Dc.js";import{A,U as w,C}from"./UpdateAddressInput-874-cnyb.js";const U=()=>{const{user:u}=N(d=>d.userReducer),a=u._id,[l,i]=t.useState(!1),[x,m]=t.useState(!1),[r,h]=t.useState(!1),[e,o]=t.useState();t.useEffect(()=>{a&&f.get(`/user/${a}/addresses`).then(d=>{const g=d.data[0];o(g),console.log("fetchAddress:",d.data[0])}).catch(d=>{console.error(d)})},[a]),console.log("selectedAddress:",e);const j=()=>{a&&f.get(`/user/${a}/addresses`).then(d=>{o(d.data[0]),console.log("addedAddress:",d.data[0])}).catch(d=>{console.error(d)})},p=d=>{console.log("handleUpdateAddress:",d),console.log("handleUpdateAddress ID:",d._id),o(d)},b=d=>{o(d)};return s.jsxs("div",{className:"admin-container",children:[s.jsx(v,{}),s.jsxs("div",{className:"px-4 pt-5",children:[s.jsxs("div",{className:"flex justify-between  ",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[e!=null?s.jsx(c,{icon:n,style:{color:"#63E6BE"}}):s.jsx(c,{icon:n,beat:!0,style:{color:"#63E6BE"}}),s.jsx("p",{className:"text-xl font-medium",children:"Address"})]}),s.jsxs("div",{className:"mt-4 mr-2 ",children:[s.jsx("button",{onClick:()=>{i(!l)},className:"bg-indigo-500 font-semibold hover:bg-indigo-600 py-3 px-5 text-sm text-white uppercase w-full",children:"+ address"}),l?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",l&&s.jsx(A,{userId:a,setAddress:j,onClose:()=>{i(!1)}})]})]}),s.jsx("p",{className:"text-gray-400",children:"select your address or add a new address."}),s.jsxs("div",{className:"mt-8 space-y-3 rounded-lg border bg-white px-2 py-4 sm:px-6",children:[e!=null&&e!="no_address"?s.jsxs("div",{className:"flex justify-between   ",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 ",children:[s.jsx(c,{icon:n}),s.jsx("h3",{className:"text-[#093bc9] font-semibold ",children:e==null?void 0:e.city})]}),s.jsxs("div",{className:"w-[300px]",children:[s.jsx("p",{children:e==null?void 0:e.street}),s.jsx("p",{children:`${e==null?void 0:e.state} - ${e==null?void 0:e.zipCode} `})]}),s.jsx("button",{onClick:()=>{m(!l)},className:"text-[#094fc9] font-normal mt-3",children:"Edit address"}),x?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",x&&s.jsx(w,{userId:a,currentAddress:e,onhandleUpdateAddress:p,onClose:()=>{m(!1)}})]}),s.jsx("div",{children:s.jsx("button",{onClick:()=>{h(!r)},className:"text-[#093bc9] font-medium",children:"Choose another address"})}),r?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",r&&s.jsx(C,{onClose:()=>{h(!1)},onAddressSelect:b})]}):s.jsx("p",{className:"text-red-500",children:"add a new address"}),s.jsx("div",{className:"flex flex-col rounded-lg bg-white sm:flex-row"})]})]})]})};export{U as default};
