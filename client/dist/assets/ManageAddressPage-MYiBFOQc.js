import{u as A,r as t,i as f,j as s,U as N,m as n,s as o}from"./index-I3DWyLzt.js";import{A as g,U as v,C as w}from"./UpdateAddressInput-xK_wqCvc.js";const S=()=>{const{user:u}=A(e=>e.userReducer),d=u._id,[r,i]=t.useState(!1),[x,m]=t.useState(!1),[c,h]=t.useState(!1),[a,l]=t.useState();t.useEffect(()=>{d&&f.get(`/user/${d}/addresses`).then(e=>{l(e.data[0])}).catch(e=>{console.error(e)})},[d]);const j=()=>{d&&f.get(`/user/${d}/addresses`).then(e=>{l(e.data[0])}).catch(e=>{console.error(e)})},p=e=>{l(e)},b=e=>{l(e)};return s.jsxs("div",{className:"admin-container",children:[s.jsx(N,{}),s.jsxs("div",{className:"px-4 pt-5",children:[s.jsxs("div",{className:"flex justify-between  ",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[a!=null?s.jsx(n,{icon:o,style:{color:"#63E6BE"}}):s.jsx(n,{icon:o,beat:!0,style:{color:"#63E6BE"}}),s.jsx("p",{className:"text-xl font-medium",children:"Address"})]}),s.jsxs("div",{className:"mt-4 mr-2 ",children:[s.jsx("button",{onClick:()=>{i(!r)},className:"bg-indigo-500 font-semibold hover:bg-indigo-600 py-3 px-5 text-sm text-white uppercase w-full",children:"+ address"}),r?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",r&&s.jsx(g,{userId:d,setAddress:j,onClose:()=>{i(!1)}})]})]}),s.jsx("p",{className:"text-gray-400",children:"select your address or add a new address."}),s.jsxs("div",{className:"mt-8 space-y-3 rounded-lg border bg-white px-2 py-4 sm:px-6",children:[a!=null?s.jsxs("div",{className:"flex justify-between   ",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 ",children:[s.jsx(n,{icon:o}),s.jsx("h3",{className:"text-[#093bc9] font-semibold ",children:a.city})]}),s.jsxs("div",{className:"w-[300px]",children:[s.jsx("p",{children:a.street}),s.jsx("p",{children:`${a.state} - ${a.zipCode} `})]}),s.jsx("button",{onClick:()=>{m(!r)},className:"text-[#094fc9] font-normal mt-3",children:"Edit address"}),x?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",x&&s.jsx(v,{userId:d,currentAddress:a,onhandleUpdateAddress:p,onClose:()=>{m(!1)}})]}),s.jsx("div",{children:s.jsx("button",{onClick:()=>{h(!c)},className:"text-[#093bc9] font-medium",children:"Choose another address"})}),c?s.jsx("div",{className:"bg-black/80 fixed w-full h-screen z-10 top-0 left-0"}):"",c&&s.jsx(w,{onClose:()=>{h(!1)},onAddressSelect:b})]}):s.jsx("p",{className:"text-red-500",children:"add a new address"}),s.jsx("div",{className:"flex flex-col rounded-lg bg-white sm:flex-row"})]})]})]})};export{S as default};
